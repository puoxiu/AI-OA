# fastapiæ¡†æ¶é‡æ„--ã€‹åŸºäºaiçš„OAç³»ç»Ÿ


## ğŸ§© å¯¹åº” Django ä¸­æ¨¡å—çš„é‡æ„å»ºè®®

| Django æ¨¡å—ç›®å½• | FastAPI ä¸­æ¨èæ¨¡å—                                                                                  |
| ----------- | ---------------------------------------------------------------------------------------------- |
| absent/     | `app/api/v1/absent.py` + `crud/absent.py` + `schemas/absent.py` + `services/absent_service.py` |
| oaauth/     | `api/v1/auth.py` + `services/auth_service.py` + `schemas/token.py`                             |
| utils/      | `core/` æˆ– `app/utils/`                                                                         |
| manage.py   | `main.py`                                                                                      |
| settings.py | `core/config.py`                                                                               |
| media/      | `static/` æˆ–ç›´æ¥æ˜ å°„è·¯å¾„                                                                              |




xingoa_back_fastapi/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/                # æ¥å£å±‚ï¼ˆè¯·æ±‚å…¥å£ï¼‰
â”‚   â”‚   â”œâ”€â”€ deps/           # é€šç”¨ä¾èµ–é¡¹ï¼Œå¦‚æƒé™ä¾èµ–ã€JWT æ ¡éªŒç­‰
â”‚   â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ v1/             # ç‰ˆæœ¬ 1 çš„æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ absent.py   # /absent ç›¸å…³æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.py     # /auth ç™»å½•æ³¨å†Œç­‰
â”‚   â”‚   â”‚   â”œâ”€â”€ inform.py   # /inform é€šçŸ¥ç›¸å…³æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ staff.py    # /staff å‘˜å·¥ç›¸å…³æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ ai/         # AI ç›¸å…³æ¥å£
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ rag.py  # RAG ç›¸å…³æ¥å£
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ mcp.py  # MCP ç›¸å…³æ¥å£
â”‚   â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”œâ”€â”€ core/               # æ ¸å¿ƒé…ç½®ï¼Œå¦‚é…ç½®æ–‡ä»¶ã€åˆå§‹åŒ–é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ config.py       # è¯»å–ç¯å¢ƒå˜é‡é…ç½®
â”‚   â”‚   â”œâ”€â”€ security.py     # JWT å·¥å…·ç±»ã€å¯†ç å“ˆå¸Œç­‰
â”‚   â”‚   â”œâ”€â”€ logging.py      # æ—¥å¿—é…ç½®
â”‚   â”‚   â”œâ”€â”€ ai_config.py    # AI ç›¸å…³é…ç½®
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”œâ”€â”€ crud/               # æ•°æ®è®¿é—®å±‚ï¼ˆåŸ DAOï¼‰ï¼Œæ“ä½œæ•°æ®åº“æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ absent.py
â”‚   â”‚   â”œâ”€â”€ staff.py
â”‚   â”‚   â”œâ”€â”€ inform.py
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”œâ”€â”€ models/             # æ•°æ®åº“æ¨¡å‹ï¼ˆPydantic Base + SQLAlchemy ORMï¼‰
â”‚   â”‚   â”œâ”€â”€ absent.py
â”‚   â”‚   â”œâ”€â”€ staff.py
â”‚   â”‚   â”œâ”€â”€ inform.py
â”‚   â”‚   â”œâ”€â”€ base.py         # Base = declarative_base()
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”œâ”€â”€ schemas/            # Pydantic è¯·æ±‚å“åº”æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ absent.py
â”‚   â”‚   â”œâ”€â”€ staff.py
â”‚   â”‚   â”œâ”€â”€ inform.py
â”‚   â”‚   â”œâ”€â”€ token.py
â”‚   â”‚   â”œâ”€â”€ ai/             # AI ç›¸å…³æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ rag.py      # RAG ç›¸å…³æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â””â”€â”€ mcp.py      # MCP ç›¸å…³æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”œâ”€â”€ services/           # ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆService Layerï¼‰
â”‚   â”‚   â”œâ”€â”€ absent_service.py
â”‚   â”‚   â”œâ”€â”€ auth_service.py
â”‚   â”‚   â”œâ”€â”€ inform_service.py
â”‚   â”‚   â”œâ”€â”€ staff_service.py
â”‚   â”‚   â”œâ”€â”€ ai/             # AI ç›¸å…³ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”‚   â”œâ”€â”€ rag_service.py  # RAG ç›¸å…³ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”‚   â””â”€â”€ mcp_service.py  # MCP ç›¸å…³ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â””â”€â”€ __init__.py
â”œâ”€â”€ deps/                   # é€šç”¨ä¾èµ–é¡¹ï¼ˆä¾‹å¦‚ï¼šè·å– dbã€å½“å‰ç”¨æˆ·ï¼‰
â”‚   â””â”€â”€ db.py
â”œâ”€â”€ db/                     # æ•°æ®åº“åˆå§‹åŒ–ä¸è¿ç§»è„šæœ¬
â”‚   â”œâ”€â”€ base.py             # å°†æ‰€æœ‰ models ç»Ÿä¸€å¯¼å…¥
â”‚   â”œâ”€â”€ session.py          # è¿æ¥ SessionLocal
â”‚   â”œâ”€â”€ init_db.py
â”‚   â””â”€â”€ __init__.py
â”œâ”€â”€ alembic/                # æ•°æ®è¿ç§»ï¼ˆå¯é€‰ï¼‰
â”‚   â”œâ”€â”€ env.py
â”‚   â”œâ”€â”€ versions/
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ ...
â”œâ”€â”€ ai/                     # AI ç›¸å…³æ ¸å¿ƒä»£ç 
â”‚   â”œâ”€â”€ rag/                # RAG ç›¸å…³ä»£ç 
â”‚   â”‚   â”œâ”€â”€ retriever.py    # æ£€ç´¢å™¨
â”‚   â”‚   â”œâ”€â”€ generator.py    # ç”Ÿæˆå™¨
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”œâ”€â”€ mcp/                # MCP ç›¸å…³ä»£ç 
â”‚   â”‚   â”œâ”€â”€ processor.py    # å¤„ç†å™¨
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â””â”€â”€ __init__.py
â”œâ”€â”€ .env                    # ç¯å¢ƒå˜é‡é…ç½®
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ main.py                 # é¡¹ç›®å…¥å£
â””â”€â”€ README.md